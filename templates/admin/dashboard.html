{% extends 'base.html' %}

{% block title %}管理后台 - 员工绩效互评系统{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-12">
        <div class="card mb-4">
            <div class="card-header bg-secondary text-white">
                <h4 class="mb-0">管理后台</h4>
            </div>
            <div class="card-body">
                <p class="lead">欢迎使用管理后台，请选择以下功能模块进行操作</p>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <!-- 评估任务管理卡片 -->
    <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
        <div class="card h-100 border-warning">
            <div class="card-header bg-warning text-dark">
                <h5 class="mb-0"><i class="bi bi-tasks me-2"></i>评估任务管理</h5>
            </div>
            <div class="card-body">
                <p>管理已发布的评估任务，查看任务状态，支持编辑和删除任务。</p>
                <a href="{{ url_for('admin_task_list') }}" class="btn btn-outline-warning stretched-link">进入管理</a>
            </div>
        </div>
    </div>

    <!-- 人员信息维护卡片 -->
    <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
        <div class="card h-100 border-primary">
            <div class="card-header bg-primary text-white">
                <h5 class="mb-0"><i class="bi bi-people-fill me-2"></i>人员信息维护</h5>
            </div>
            <div class="card-body">
                <p>管理评估对象清单，维护员工的姓名和岗位信息，支持增删改查操作。</p>
                <a href="{{ url_for('admin_employee_list') }}" class="btn btn-outline-primary stretched-link">进入管理</a>
            </div>
        </div>
    </div>

    <!-- 评估管理卡片 -->
    <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
        <div class="card h-100 border-success">
            <div class="card-header bg-success text-white">
                <h5 class="mb-0"><i class="bi bi-bar-chart-line-fill me-2"></i>评估管理</h5>
            </div>
            <div class="card-body">
                <p>设定打分维度及权重，支持对评估维度进行增删改查，权重总和需为100%。</p>
                <a href="{{ url_for('admin_dimension_list') }}" class="btn btn-outline-success stretched-link">进入管理</a>
            </div>
        </div>
    </div>

    <!-- 评估查询卡片 -->
    <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
        <div class="card h-100 border-primary">
            <div class="card-header bg-primary text-white">
                <h5 class="mb-0"><i class="bi bi-search me-2"></i>员工评估查询</h5>
            </div>
            <div class="card-body">
                <p>查询已提交的评估记录，支持按任务筛选和导出评估结果。</p>
                <a href="{{ url_for('admin_evaluation_query') }}" class="btn btn-outline-primary stretched-link">进入查询</a>
            </div>
        </div>
    </div>

    <!-- 撤回申请管理卡片 -->
    <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
        <div class="card h-100 border-info">
            <div class="card-header bg-info text-white">
                <h5 class="mb-0"><i class="bi bi-arrow-counterclockwise me-2"></i>撤回申请管理</h5>
            </div>
            <div class="card-body">
                <p>查看和处理员工提交的评估撤回申请，支持批准申请并将评估记录改为可编辑状态。</p>
                <a href="{{ url_for('withdrawal_requests') }}" class="btn btn-outline-info stretched-link">进入管理</a>
            </div>
        </div>
    </div>

    <!-- 领导评估统计卡片 -->
    <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
        <div class="card h-100 border-secondary">
            <div class="card-header bg-secondary text-white">
                <h5 class="mb-0"><i class="bi bi-bar-chart-3 me-2"></i>领导评估统计</h5>
            </div>
            <div class="card-body">
                <p>统计领导（employee_id >= '2'）提交的评估结果，支持按任务筛选和导出统计数据。</p>
                <a href="{{ url_for('admin_leader_evaluation_stats') }}" class="btn btn-outline-secondary stretched-link">进入统计</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
{% endblock %}